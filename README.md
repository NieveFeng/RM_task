# RM_task

RM实习期任务整理汇总

## 任务1_Armor

**<u>主程序存放于armor.cpp</u>**

1. 运用最传统的算法，spilt()对源图像分离成三通道，再用通道2减去通道0得到红色灯条

2. 二值化图像代入寻找轮廓的函数findcontours()
3. 遍历轮廓，找出灯条的特征——筛除条件：area轮廓的面积
4. 对找出的灯条轮廓绘制最小包围旋转矩形minAreaRect()
5. 绘制矩形的对角线and装甲板的击打点

## 任务2_Rune

**<u>主程序存放于rune.cpp</u>**

1. 运用最传统的算法，spilt()对源图像分离成三通道，再用通道0减去通道2得到蓝色灯条
2. 二值化图像之后进行膨胀与闭运算，对能量机关进行处理，区分出明显的锤子和宝剑
3. 寻找轮廓findcontour()之后遍历轮廓
4. 筛除条件：锤子中的矩形没有子轮廓，宝剑中的矩形有子轮廓，最小旋转矩形长宽比与面积
5. 绘制最小包围旋转矩形and能量机关的击打点

## 任务3_ssh

1. 图一：通过ssh远程登陆自身开设的openssh-server服务器
2. 图二：通过scp远程复制文件到本机
3. 图三：通过配置公钥与私钥免密登陆远程linux服务器

## 任务4_service

1. 图一：右边是service文件的简单配置
2. 图二：service文件持续运行中，持续打印Hello RM！

## 任务5_Serial

**主程序存放于 <u>任务5_serial/src/serial.cpp</u>**

1. 导入ROS关键的serial包
2. 对收到的数据进行判断分析
3. 使用包里write和read函数实现串口收发

## 任务6_PNP

1. 对任务一绘制的最小旋转矩形的四个顶点进行简单的排序

   **最小旋转矩形的四个顶点会随着角度的变化而变化**

   **对于PNP算法要求点要一对一地对应会造成极大的影响**

2. 代入PNP算法得出旋转向量revc与平移向量tevc

3. 通过传统的罗德里格斯矩阵变换将旋转向量revc转化为旋转矩阵

4. 再通过传统的算法求出相机的时间坐标与xyz轴角，进行姿态估算

## 任务7_ROS

**主程序存放于	<u>任务7_ROS/src/Rviz/src/rviz.cpp</u>**

1. 导入一系列关键功能包cv_bridge,image_transport等等
2. 引入任务六得出的世界坐标系，xyz轴角，姿态估算
3. 理解marker成员变量含义，赋值变量

## 任务8_Learning

**主程序存放于<u>Lenet.py</u>**

1. 采用pytorch搭建Lenet-5神经网络识别手写数字
2. 数据集在github上clone下来的
3. 目前运行程序可以开始训练
